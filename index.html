<html><head>
      <title>Soutƒõ≈æomat: nejlep≈°√≠ soutƒõ≈æe</title>
      <link rel="icon" type="image/png" href="Ikony/Favicon.png">
      <link rel="stylesheet" href="css.css">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
      <link href="https://fonts.googleapis.com/css2?family=Jost:wght@100..900&amp;display=swap" rel="stylesheet">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="Soutƒõ≈æomat: nejlep≈°√≠ soutƒõ≈æe">
<meta property="og:image" content="https://soutezomat.cz/Ikony/Facebook1.png" />

<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

 <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
        }

        h1 {
            margin-bottom: 20px;
            font-size: 2.5em;
            font-weight: 300;
            color: #333333;
        }

        .game-container {
        }

        canvas {
            background: #fafafa;
             /* Vnit≈ôn√≠ r√°meƒçek 2px, ƒçern√° barva */
        }

        .score {
            font-size: 1.5em;
            font-weight: 300;
            margin: 20px 0;
            text-align: center;
            color: #333333;
            display: none;
        }

    #krok2, #krok3 {
      display: none;
    }

    button {
      padding: 17px 20px;
      margin: 5px;
      font-size: 15px;
      cursor: pointer;
      background: #1265F8;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 5px;
    }

    input {
      padding: 8px;
      font-size: 16px;
      margin: 5px;
    }

        .controls {
            text-align: center;
            margin-top: 20px;
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
        }

        .controls p {
            margin: 5px 0;
            font-size: 1.1em;
            color: #666666;
        }

        .start-overlay {
        position: absolute;
        top: 0px;
        background: #ffffff;
        width: 100%;
        height: 100%;
         /* Vnit≈ôn√≠ r√°meƒçek 2px, ƒçern√° barva */
        border-radius: 3px;

        }

        .start-overlay h3 {
            margin: 0 0 15px 0;
            font-size: 1.5em;
            font-weight: 300;
            color: #333333;
        }

        .start-overlay p {
            margin: 5px 0;
            font-size: 1.1em;
            color: #666666;
        }


        .start-btn {
background: #5CB728;
    color: white;
    border: none;
    padding: 12px 25px;
    font-size: 1.1em;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 15px;
    transition: all 0.3s ease;
    font-weight: 300;
    margin: auto;
    margin-bottom: 26px;
    font-weight: bold;
    display: block;
        }

        .start-btn:hover {
            background: #4A9A20;
        }



        .game-over {
     position: absolute;
    top: 0px;
    width: 100%;
    height: 100%;
    border-radius: 3px;
    background: #ffffff;
display:none
        }

        .game-over h2 {
            color: #333333;
            margin-bottom: 15px;
            font-size: 2em;
            font-weight: 300;
        }

        .restart-btn {
            background: #333333;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
            font-weight: 300;
        }

        .restart-btn:hover {
            background: #555555;
        }

        .mobile-controls {
            display: none;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
            max-width: 200px;
        }

        .control-btn {
            background: #ffffff;
            border: 2px solid #e0e0e0;
            color: #333333;
            font-size: 1.5em;
            padding: 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .control-btn:hover, .control-btn:active {
            background: #f5f5f5;
            border-color: #333333;
        }

        .control-btn:nth-child(2) { grid-column: 2; grid-row: 1; }
        .control-btn:nth-child(1) { grid-column: 1; grid-row: 2; }
        .control-btn:nth-child(3) { grid-column: 3; grid-row: 2; }
        .control-btn:nth-child(4) { grid-column: 2; grid-row: 3; }

        @media (max-width: 800px) {
            .mobile-controls {
                display: grid;
            }
            
   
        }
    </style>

   </head>
   <body>
      <div class="stranka">
         <header>
            <a href="https://soutezomat.cz/" class="logo"><img src="Ikony/Logo.svg" class="logo_svg"></a>
            
            
         </header>
         <main>
            <div class="souteze">
               





  <div class="game-container">
        <div class="score">Sk√≥re: <span id="score">70</span></div>
        <div style="position: relative;
    border: 2px solid #00A1FF;
    border-radius: 3px;">
            <canvas id="gameCanvas" width="400" height="400"></canvas>


	<div class="game-over" id="gameOver" style="">
        <p style="font-size: 20px;
    text-align: center;
    color: #353535;
    margin-top: 56px;">Va≈°e sk√≥re: <b id="finalScore">0</b></p>

<div id="krok1">

  <!-- Tlaƒç√≠tko pro sd√≠len√≠ na Facebooku -->
  <button id="btnFbShare" onclick="zobrazitKrok2(); sdiletNaFacebook();">Sd√≠let na Facebooku</button>

</div>
<div id="krok2">

  <!-- Skryt√© pole a tlaƒç√≠tko 1c -->
  <input type="text" id="inputField" placeholder="1b">
  <button id="btn1c" onclick="zobrazitKrok3()">1c</button>
</div>
<div id="krok3">

        <button class="restart-btn" onclick="restartGame(); zobrazitKrok1();">Hr√°t znovu</button>
</div>




    </div>

            <!-- √övodn√≠ overlay -->
            <div class="start-overlay" id="startOverlay" style="display: none;">
             <div style="
    margin: auto;
    width: 100%;
"><div style="
    margin: auto;
    width: 257px;
    text-align: center;
    font-size: 20px;
    color: #353535;
    margin: 59px auto 45px auto;
"><div style="
    margin: auto;
    width: 60px;
    margin-top: 32px;
    margin-bottom: 30px;
"><img src="Ikony/Had.svg" style="
    text-align: center;
"></div>

<!-- <div class="instrukce-pc"><b>Stisknƒõte</b> libovolnou <b>≈°ipku</b> na kl√°vesnici</div> -->

</div>
<button class="start-btn" onclick="startGameMobile()">Zaƒç√≠t hru</button>
<div style="
    margin: auto;
    width: 279px;
    text-align: center;
    font-size: 15px;
    color: #5B5B5B;
    margin: 0px auto;
    background: #F4F4F4;
    padding: 20px;
    border-radius: 13px;
">Hrajeme o d√°rkov√© poukazy<br>1 000 Kƒç
<div style="
    margin: auto;
    width: 81px;
    margin-top: 16px;
"><img src="Ikony/Alza logo.svg" style="
    text-align: center;
"></div></div></div><div style=""></div>
            </div>
        </div>

        <!--<div class="mobile-controls">
            <button class="control-btn" onclick="changeDirection('up')">üîº</button>
            <button class="control-btn" onclick="changeDirection('left')">‚óÄÔ∏è</button>
            <button class="control-btn" onclick="changeDirection('right')">‚ñ∂Ô∏è</button>
            <button class="control-btn" onclick="changeDirection('down')">üîΩ</button>
        </div>
	-->
    </div>

  <script>
    function zobrazitKrok1() {
      document.getElementById("krok3").style.display = "none";
      document.getElementById("krok1").style.display = "block";
    }

  function sdiletNaFacebook() {
    const url = encodeURIComponent(window.location.href);
    const facebookShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
    window.open(facebookShareUrl, '_blank');
  }

    function zobrazitKrok2() {
      document.getElementById("krok1").style.display = "none";
      document.getElementById("krok2").style.display = "block";
    }

    function zobrazitKrok3() {
      document.getElementById("krok2").style.display = "none";
      document.getElementById("krok3").style.display = "block";
    }
  </script>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');
        const gameOverElement = document.getElementById('gameOver');
        const finalScoreElement = document.getElementById('finalScore');
        const startOverlayElement = document.getElementById('startOverlay');

        // Hern√≠ promƒõnn√©
        const gridSize = 20;
        const tileCount = canvas.width / gridSize;

        let snake = [
            {x: Math.floor(tileCount/2), y: Math.floor(tileCount/2)}
        ];
        let food = {};
        let dx = 0;
        let dy = 0;
        let score = 0;
        let gameRunning = false;  // Hra zaƒçne pozastaven√°
        let gameStarted = false;  // Sleduje, zda hra zaƒçala

        // Promƒõnn√© pro detekci dotyku
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;
let minSwipeDistance = 30; // Minim√°ln√≠ vzd√°lenost pro detekci swipe

// Fronta p≈ô√≠kaz≈Ø pro plynulej≈°√≠ ovl√°d√°n√≠
let inputQueue = [];

        // Inicializace hry
        function init() {
            generateFood();
            draw(); // Jen vykresl√≠, nespust√≠ smyƒçku
            startOverlayElement.style.display = 'block'; // Zobraz√≠ overlay
        }

        // Generov√°n√≠ j√≠dla
        function generateFood() {
            food = {
                x: Math.floor(Math.random() * tileCount),
                y: Math.floor(Math.random() * tileCount)
            };
            
            // Ujistit se, ≈æe j√≠dlo nen√≠ na hadovi
            for (let segment of snake) {
                if (segment.x === food.x && segment.y === food.y) {
                    generateFood();
                    return;
                }
            }
        }

        // Vykreslen√≠ hry
        function draw() {
            // Vyƒçi≈°tƒõn√≠ pl√°tna
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Vykreslen√≠ m≈ô√≠≈æky
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            for (let i = 0; i <= tileCount; i++) {
                ctx.beginPath();
                ctx.moveTo(i * gridSize, 0);
                ctx.lineTo(i * gridSize, canvas.height);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(0, i * gridSize);
                ctx.lineTo(canvas.width, i * gridSize);
                ctx.stroke();
            }

            // Vykreslen√≠ hada
            for (let i = 0; i < snake.length; i++) {
                const segment = snake[i];
                
                // Hlava hada je svƒõtlej≈°√≠
                if (i === 0) {
                    ctx.fillStyle = '#5CB728';
                } else {
                    ctx.fillStyle = '#4A9A20';
                }
                
                ctx.fillRect(segment.x * gridSize + 2, segment.y * gridSize + 2, gridSize - 4, gridSize - 4);
            }

            // Vykreslen√≠ j√≠dla
            ctx.fillStyle = '#333333';
            ctx.beginPath();
            ctx.arc(
                food.x * gridSize + gridSize / 2,
                food.y * gridSize + gridSize / 2,
                gridSize / 2 - 2,
                0,
                2 * Math.PI
            );
            ctx.fill();
        }

        // Pohyb hada
        function move() {
    if (inputQueue.length > 0) {
        const nextDirection = inputQueue.shift();
        applyDirectionChange(nextDirection);
    }
    
    const head = {x: snake[0].x + dx, y: snake[0].y + dy};

            // Kontrola kolize se stƒõnami
            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
                gameOver();
                return;
            }

            // Kontrola kolize se sebou
            for (let segment of snake) {
                if (head.x === segment.x && head.y === segment.y) {
                    gameOver();
                    return;
                }
            }

            snake.unshift(head);

            // Kontrola, zda had snƒõdl j√≠dlo
            if (head.x === food.x && head.y === food.y) {
                score += 10;
                scoreElement.textContent = score;
                generateFood();
            } else {
                snake.pop();
            }
        }

        // Konec hry
        function gameOver() {
            gameRunning = false;
            finalScoreElement.textContent = score;
            gameOverElement.style.display = 'block';
        }

         // Restart hry
        function restartGame() {
            snake = [{x: Math.floor(tileCount/2), y: Math.floor(tileCount/2)}];
            dx = 1; // Zaƒçne se pohybovat doprava
            dy = 0;
            score = 0;
            scoreElement.textContent = score;
            gameRunning = true;
            gameStarted = true;
            gameOverElement.style.display = 'none';
            startOverlayElement.style.display = 'none';
            inputQueue = []; // Vyƒçisti frontu p≈ô√≠kaz≈Ø
            generateFood();
            draw();
            gameLoop(); // Rovnou spust√≠ hru
        }


        // Zmƒõna smƒõru
// Aplikuje zmƒõnu smƒõru (pomocn√° funkce)
function applyDirectionChange(direction) {
    switch(direction) {
        case 'up': if (dy === 0) { dx = 0; dy = -1; } break;
        case 'down': if (dy === 0) { dx = 0; dy = 1; } break;
        case 'left': if (dx === 0) { dx = -1; dy = 0; } break;
        case 'right': if (dx === 0) { dx = 1; dy = 0; } break;
    }
}

function changeDirection(direction) {
    if (!gameStarted) {
        gameStarted = true;
        gameRunning = true;
        startOverlayElement.style.display = 'none';
        applyDirectionChange(direction);
        gameLoop();
        return;
    }
    
    if (!gameRunning) return;

    // P≈ôidej p≈ô√≠kaz do fronty (max 2 p≈ô√≠kazy)
    if (inputQueue.length < 2) {
        inputQueue.push(direction);
    }
}
        // Spu≈°tƒõn√≠ hry na mobiln√≠m za≈ô√≠zen√≠
        function startGameMobile() {
            changeDirection('right'); // Spust√≠ hru smƒõrem doprava
        }

        // Detekce dotyku
        function handleTouchStart(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            touchStartX = touch.clientX - rect.left;
            touchStartY = touch.clientY - rect.top;
        }

        function handleTouchMove(e) {
            e.preventDefault();
        }

        function handleTouchEnd(e) {
            e.preventDefault();
            const touch = e.changedTouches[0];
            const rect = canvas.getBoundingClientRect();
            touchEndX = touch.clientX - rect.left;
            touchEndY = touch.clientY - rect.top;
            
            handleSwipe();
        }

        function handleSwipe() {
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            
            // Kontrola minim√°ln√≠ vzd√°lenosti
            if (Math.abs(deltaX) < minSwipeDistance && Math.abs(deltaY) < minSwipeDistance) {
                return;
            }
            
            // Urƒçen√≠ smƒõru podle nejvƒõt≈°√≠ zmƒõny
            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                // Horizont√°ln√≠ pohyb
                if (deltaX > 0) {
                    changeDirection('right');
                } else {
                    changeDirection('left');
                }
            } else {
                // Vertik√°ln√≠ pohyb
                if (deltaY > 0) {
                    changeDirection('down');
                } else {
                    changeDirection('up');
                }
            }
        }
        // Ovl√°d√°n√≠ kl√°vesnic√≠
        document.addEventListener('keydown', (e) => {
            if (!gameRunning && e.code === 'Space') {
                restartGame();
                return;
            }

            switch(e.code) {
                case 'ArrowUp':
                case 'KeyW':
                    e.preventDefault();
                    changeDirection('up');
                    break;
                case 'ArrowDown':
                case 'KeyS':
                    e.preventDefault();
                    changeDirection('down');
                    break;
                case 'ArrowLeft':
                case 'KeyA':
                    e.preventDefault();
                    changeDirection('left');
                    break;
                case 'ArrowRight':
                case 'KeyD':
                    e.preventDefault();
                    changeDirection('right');
                    break;
                case 'Space':
                    e.preventDefault();
                    if (!gameRunning) restartGame();
                    break;
            }
        });

        // P≈ôid√°n√≠ event listener≈Ø pro dotykov√© ovl√°d√°n√≠
        canvas.addEventListener('touchstart', handleTouchStart, { passive: false });
        canvas.addEventListener('touchmove', handleTouchMove, { passive: false });
        canvas.addEventListener('touchend', handleTouchEnd, { passive: false });

        // Hlavn√≠ hern√≠ smyƒçka
        function gameLoop() {
            if (gameRunning) {
                move();
            }
            draw();
            
            if (gameRunning) {
                setTimeout(gameLoop, 250); // Rychlost hry
            }
        }

        // Spu≈°tƒõn√≠ hry
        init();
    </script>







            </div>
            <div class="kde_soutezime" id="kde_soutezime" style="">
               
               <div class="kde_soutezime_odkazy">
                  
                  <a href="https://www.facebook.com/Soutezomat" class="odkaz-ss" target="_blank">
                     <div class="odkaz-ss-center"><img src="Ikony/Facebook.svg" class="odkaz-ss-yt" style="
                        ">
                     </div>
                  </a>
                  
                  
                  
                  
                  
                  
                  
                  
                  
               </div>
            </div>
         </main>
         <footer>
            
            
         </footer>
      </div>
   
</body></html>