<html><head>
      <title>Soutěžomat: nejlepší soutěže</title>
      <link rel="icon" type="image/png" href="Ikony/Favicon.png">
      <link rel="stylesheet" href="css.css">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="Soutěžomat: nejlepší soutěže">
<meta property="og:title" content="Zahrajte si hada...">
<meta property="og:description" content="Hrajeme o dárkový poukaz 1 000 Kč.">
<meta property="og:image" content="https://soutezomat.cz/Ikony/Facebook1.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

 <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
        }

        h1 {
            margin-bottom: 20px;
            font-size: 2.5em;
            font-weight: 300;
            color: #333333;
        }

        .game-container {
        }

        canvas {
            background: #fafafa;
             /* Vnitřní rámeček 2px, černá barva */
        }

        .score {
            font-size: 1.5em;
            font-weight: 300;
            margin: 20px 0;
            text-align: center;
            color: #333333;
            display: none;
        }

    #krok2, #krok3 {
      display: none;
    }

    button {
      padding: 17px 20px;
      margin: 5px;
      font-size: 15px;
      cursor: pointer;
      background: #1265F8;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 5px;
    }

    input {
      padding: 8px;
      font-size: 16px;
      margin: 5px;
    }

        .controls {
            text-align: center;
            margin-top: 20px;
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
        }

        .controls p {
            margin: 5px 0;
            font-size: 1.1em;
            color: #666666;
        }

        .start-overlay {
        position: absolute;
        top: 0px;
        background: #ffffff;
        width: 100%;
        height: 100%;
         /* Vnitřní rámeček 2px, černá barva */
        border-radius: 3px;

        }

        .start-overlay h3 {
            margin: 0 0 15px 0;
            font-size: 1.5em;
            font-weight: 300;
            color: #333333;
        }

        .start-overlay p {
            margin: 5px 0;
            font-size: 1.1em;
            color: #666666;
        }


        .start-btn {
background: #5CB728;
    color: white;
    border: none;
    padding: 17px 20px;
    font-size: 1.1em;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 15px;
    transition: all 0.3s ease;
    font-weight: 300;
    margin: auto;
    font-weight: bold;
    display: block;
        }

        .start-btn:hover {
            background: #4A9A20;
        }



        .game-over {
     position: absolute;
    top: 0px;
    width: 100%;
    height: 100%;
    border-radius: 3px;
    background: #ffffff;
display:none
        }

        .game-over h2 {
            color: #333333;
            margin-bottom: 15px;
            font-size: 2em;
            font-weight: 300;
        }

        .restart-btn {
            background: #333333;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
            font-weight: 300;
        }

        .restart-btn:hover {
            background: #555555;
        }

        .mobile-controls {
            display: none;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
            max-width: 200px;
        }

        .control-btn {
            background: #ffffff;
            border: 2px solid #e0e0e0;
            color: #333333;
            font-size: 1.5em;
            padding: 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .control-btn:hover, .control-btn:active {
            background: #f5f5f5;
            border-color: #333333;
        }

        .control-btn:nth-child(2) { grid-column: 2; grid-row: 1; }
        .control-btn:nth-child(1) { grid-column: 1; grid-row: 2; }
        .control-btn:nth-child(3) { grid-column: 3; grid-row: 2; }
        .control-btn:nth-child(4) { grid-column: 2; grid-row: 3; }

        @media (max-width: 800px) {
            .mobile-controls {
                display: grid;
            }
            
   
        }
    </style>

   </head>
   <body>
      <div class="stranka">
         <header>
            <a href="https://soutezomat.cz/" class="logo"><img src="Ikony/Logo.svg" class="logo_svg"></a>
            
            
         </header>
         <main>
            <div class="souteze">
               





  <div class="game-container">
        <div class="score">Skóre: <span id="score">70</span></div>
        <div style="position: relative;
    border: 2px solid #00A1FF;
    border-radius: 3px;">
            <canvas id="gameCanvas" width="400" height="400"></canvas>


	<div class="game-over" id="gameOver" style="">
        <p style="font-size: 20px;
    text-align: center;
    color: #353535;
    margin-top: 56px;">Vaše skóre: <b id="finalScore">0</b></p>

<div id="krok1" style="
    margin: auto;
    width: 319px;
    margin-top: 33px;
">
<span class="" style="
    font-weight: bold;
    color: #000000;
    margin-right: 10px;
">1. krok</span>
  <!-- Tlačítko pro sdílení na Facebooku -->
  <button id="btnFbShare" onclick="zobrazitKrok2(); sdiletNaFacebook();">Sdílet na Facebooku</button>
<!-- Box: Hrajeme o dárkový poukaz -->
<div class="hrajeme_o">Hrajeme o dárkový poukaz<br>1 000 Kč
	<div class="hrajeme_o_alza_logo">
		<img src="Ikony/Alza logo.svg">
	</div>
</div>


</div>


<div id="krok2" style="width: 319px; margin: auto; margin-top: 33px;">

  <!-- Skryté pole a tlačítko 1c -->
  <input type="text" id="inputField" placeholder="Váš e-mail" style="padding: 15px; font-size: 17px;    width: 200px;">
  <button class="start-btn" onclick="zobrazitKrok3()" style="margin-top: 11px;    float: right;
    margin: 5px;">Uložit</button>
<!-- Box: Hrajeme o dárkový poukaz -->
<div class="hrajeme_o">Hrajeme o dárkový poukaz<br>1 000 Kč
	<div class="hrajeme_o_alza_logo">
		<img src="Ikony/Alza logo.svg">
	</div>
</div>


</div>
<div id="krok3" style="margin-top: 33px;">



        <button class="start-btn" onclick="restartGame(); zobrazitKrok1();">Hrát znovu</button>

<!-- Box: Hrajeme o dárkový poukaz -->
<div class="hrajeme_o">Hrajeme o dárkový poukaz<br>1 000 Kč
	<div class="hrajeme_o_alza_logo">
		<img src="Ikony/Alza logo.svg">
	</div>
</div>
</div>




    </div>

            <!-- Úvodní overlay -->
            <div class="start-overlay" id="startOverlay" style="display: none;">
             <div style="
    margin: auto;
    width: 100%;
"><div style="
    margin: auto;
    width: 257px;
    text-align: center;
    font-size: 20px;
    color: #353535;
    margin: 59px auto 45px auto;
"><div style="
    margin: auto;
    width: 60px;
    margin-top: 32px;
    margin-bottom: 30px;
"><img src="Ikony/Had.svg" style="
    text-align: center;
"></div>

<!-- <div class="instrukce-pc"><b>Stiskněte</b> libovolnou <b>šipku</b> na klávesnici</div> -->

</div>
<button class="start-btn" onclick="startGameMobile()">Začít hru</button>


<!-- Box: Hrajeme o dárkový poukaz -->
<div class="hrajeme_o">Hrajeme o dárkový poukaz<br>1 000 Kč
	<div class="hrajeme_o_alza_logo">
		<img src="Ikony/Alza logo.svg">
	</div>
</div>

</div>

            </div>
        </div>


    </div>

  <script>
    function zobrazitKrok1() {
      document.getElementById("krok3").style.display = "none";
      document.getElementById("krok1").style.display = "block";
    }

  function sdiletNaFacebook() {
    const url = encodeURIComponent(window.location.href);
    const facebookShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
    window.open(facebookShareUrl, '_blank');
  }

    function zobrazitKrok2() {
      document.getElementById("krok1").style.display = "none";
      document.getElementById("krok2").style.display = "block";
    }

    function zobrazitKrok3() {
      document.getElementById("krok2").style.display = "none";
      document.getElementById("krok3").style.display = "block";
    }
  </script>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');
        const gameOverElement = document.getElementById('gameOver');
        const finalScoreElement = document.getElementById('finalScore');
        const startOverlayElement = document.getElementById('startOverlay');

        // Herní proměnné
        const gridSize = 20;
        const tileCount = canvas.width / gridSize;

        let snake = [
            {x: Math.floor(tileCount/2), y: Math.floor(tileCount/2)}
        ];
        let food = {};
        let dx = 0;
        let dy = 0;
        let score = 0;
        let gameRunning = false;  // Hra začne pozastavená
        let gameStarted = false;  // Sleduje, zda hra začala

        // Proměnné pro detekci dotyku
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;
let minSwipeDistance = 30; // Minimální vzdálenost pro detekci swipe

// Fronta příkazů pro plynulejší ovládání
let inputQueue = [];

        // Inicializace hry
        function init() {
            generateFood();
            draw(); // Jen vykreslí, nespustí smyčku
            startOverlayElement.style.display = 'block'; // Zobrazí overlay
        }

        // Generování jídla
        function generateFood() {
            food = {
                x: Math.floor(Math.random() * tileCount),
                y: Math.floor(Math.random() * tileCount)
            };
            
            // Ujistit se, že jídlo není na hadovi
            for (let segment of snake) {
                if (segment.x === food.x && segment.y === food.y) {
                    generateFood();
                    return;
                }
            }
        }

        // Vykreslení hry
        function draw() {
            // Vyčištění plátna
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Vykreslení mřížky
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            for (let i = 0; i <= tileCount; i++) {
                ctx.beginPath();
                ctx.moveTo(i * gridSize, 0);
                ctx.lineTo(i * gridSize, canvas.height);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(0, i * gridSize);
                ctx.lineTo(canvas.width, i * gridSize);
                ctx.stroke();
            }

            // Vykreslení hada
            for (let i = 0; i < snake.length; i++) {
                const segment = snake[i];
                
                // Hlava hada je světlejší
                if (i === 0) {
                    ctx.fillStyle = '#5CB728';
                } else {
                    ctx.fillStyle = '#4A9A20';
                }
                
                ctx.fillRect(segment.x * gridSize + 2, segment.y * gridSize + 2, gridSize - 4, gridSize - 4);
            }

            // Vykreslení jídla
            ctx.fillStyle = '#333333';
            ctx.beginPath();
            ctx.arc(
                food.x * gridSize + gridSize / 2,
                food.y * gridSize + gridSize / 2,
                gridSize / 2 - 2,
                0,
                2 * Math.PI
            );
            ctx.fill();
        }

        // Pohyb hada
        function move() {
    if (inputQueue.length > 0) {
        const nextDirection = inputQueue.shift();
        applyDirectionChange(nextDirection);
    }
    
    const head = {x: snake[0].x + dx, y: snake[0].y + dy};

            // Kontrola kolize se stěnami
            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
                gameOver();
                return;
            }

            // Kontrola kolize se sebou
            for (let segment of snake) {
                if (head.x === segment.x && head.y === segment.y) {
                    gameOver();
                    return;
                }
            }

            snake.unshift(head);

            // Kontrola, zda had snědl jídlo
            if (head.x === food.x && head.y === food.y) {
                score += 10;
                scoreElement.textContent = score;
                generateFood();
            } else {
                snake.pop();
            }
        }

        // Konec hry
        function gameOver() {
            gameRunning = false;
            finalScoreElement.textContent = score;
            gameOverElement.style.display = 'block';
        }

         // Restart hry
        function restartGame() {
            snake = [{x: Math.floor(tileCount/2), y: Math.floor(tileCount/2)}];
            dx = 1; // Začne se pohybovat doprava
            dy = 0;
            score = 0;
            scoreElement.textContent = score;
            gameRunning = true;
            gameStarted = true;
            gameOverElement.style.display = 'none';
            startOverlayElement.style.display = 'none';
            inputQueue = []; // Vyčisti frontu příkazů
            generateFood();
            draw();
            gameLoop(); // Rovnou spustí hru
        }


        // Změna směru
// Aplikuje změnu směru (pomocná funkce)
function applyDirectionChange(direction) {
    switch(direction) {
        case 'up': if (dy === 0) { dx = 0; dy = -1; } break;
        case 'down': if (dy === 0) { dx = 0; dy = 1; } break;
        case 'left': if (dx === 0) { dx = -1; dy = 0; } break;
        case 'right': if (dx === 0) { dx = 1; dy = 0; } break;
    }
}

function changeDirection(direction) {
    if (!gameStarted) {
        gameStarted = true;
        gameRunning = true;
        startOverlayElement.style.display = 'none';
        applyDirectionChange(direction);
        gameLoop();
        return;
    }
    
    if (!gameRunning) return;

    // Přidej příkaz do fronty (max 2 příkazy)
    if (inputQueue.length < 2) {
        inputQueue.push(direction);
    }
}
        // Spuštění hry na mobilním zařízení
        function startGameMobile() {
            changeDirection('right'); // Spustí hru směrem doprava
        }

        // Detekce dotyku
        function handleTouchStart(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            touchStartX = touch.clientX - rect.left;
            touchStartY = touch.clientY - rect.top;
        }

        function handleTouchMove(e) {
            e.preventDefault();
        }

        function handleTouchEnd(e) {
            e.preventDefault();
            const touch = e.changedTouches[0];
            const rect = canvas.getBoundingClientRect();
            touchEndX = touch.clientX - rect.left;
            touchEndY = touch.clientY - rect.top;
            
            handleSwipe();
        }

        function handleSwipe() {
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            
            // Kontrola minimální vzdálenosti
            if (Math.abs(deltaX) < minSwipeDistance && Math.abs(deltaY) < minSwipeDistance) {
                return;
            }
            
            // Určení směru podle největší změny
            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                // Horizontální pohyb
                if (deltaX > 0) {
                    changeDirection('right');
                } else {
                    changeDirection('left');
                }
            } else {
                // Vertikální pohyb
                if (deltaY > 0) {
                    changeDirection('down');
                } else {
                    changeDirection('up');
                }
            }
        }
        // Ovládání klávesnicí
        document.addEventListener('keydown', (e) => {
            if (!gameRunning && e.code === 'Space') {
                restartGame();
                return;
            }

            switch(e.code) {
    case 'ArrowUp':
        e.preventDefault();
        changeDirection('up');
        break;
    case 'ArrowDown':
        e.preventDefault();
        changeDirection('down');
        break;
    case 'ArrowLeft':
        e.preventDefault();
        changeDirection('left');
        break;
    case 'ArrowRight':
        e.preventDefault();
        changeDirection('right');
        break;
                case 'Space':
                    e.preventDefault();
                    if (!gameRunning) restartGame();
                    break;
            }
        });

        // Přidání event listenerů pro dotykové ovládání
        canvas.addEventListener('touchstart', handleTouchStart, { passive: false });
        canvas.addEventListener('touchmove', handleTouchMove, { passive: false });
        canvas.addEventListener('touchend', handleTouchEnd, { passive: false });

        // Hlavní herní smyčka
        function gameLoop() {
            if (gameRunning) {
                move();
            }
            draw();
            
            if (gameRunning) {
                setTimeout(gameLoop, 250); // Rychlost hry
            }
        }

        // Spuštění hry
        init();
    </script>







            </div>
            <div class="kde_soutezime" id="kde_soutezime" style="">
               
               <div class="kde_soutezime_odkazy">
                  
                  <a href="https://www.facebook.com/Soutezomat" class="odkaz-ss" target="_blank">
                     <div class="odkaz-ss-center"><img src="Ikony/Facebook.svg" class="odkaz-ss-yt" style="
                        ">
                     </div>
                  </a>
                  
                  
                  
                  
                  
                  
                  
                  
                  
               </div>
            </div>
         </main>
         <footer>
            
            
         </footer>
      </div>
   
</body></html>